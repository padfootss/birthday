<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ä°yi ki VarsÄ±n Ablam ğŸ’–</title>

<style>
body{
  margin:0;
  font-family:-apple-system,system-ui,sans-serif;
  text-align:center;
  background:#0f0c29;
  color:white;
  display:flex;
  flex-direction:column;
  height:100vh;
  overflow:hidden;
}

.header-container{
  flex:1;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:20px;
}

h1{
  font-size:clamp(30px,8vw,60px);
  color:#ff66cc;
  text-shadow:0 0 20px #ff1493;
  margin:0;
}

.message-container{
  height:200px;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:0 20px;
}

#messageBox{
  font-size:18px;
  line-height:1.8;
  white-space:pre-wrap;
  letter-spacing:0.3px;
}

.button-area{
  padding-bottom:40px;
}

button{
  padding:16px 25px;
  font-size:18px;
  font-weight:bold;
  border:none;
  border-radius:30px;
  background:white;
  color:#302b63;
  width:80%;
  max-width:280px;
  box-shadow:0 5px 20px rgba(255,102,204,0.4);
}

.hidden{display:none;}

.emoji{
  position:absolute;
  font-size:25px;
  animation:fall 3s linear forwards;
}

@keyframes fall{
  from{transform:translateY(-10vh);}
  to{transform:translateY(110vh);}
}

#countdown{
  position:fixed;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  font-size:70px;
  color:#ff66cc;
}
</style>
</head>
<body>

<div class="header-container">
<h1>Ä°YÄ° KÄ° VARSIN ABLAM ğŸ’–</h1>
</div>

<div class="message-container">
<div id="messageBox"></div>
</div>

<div class="button-area">
<button id="btn1">Partiyi BaÅŸlat ğŸ‰</button>
<button id="btn2" class="hidden">Devam Et âœ¨</button>
<button id="btn3" class="hidden">Daha FazlasÄ± ğŸ¥¹</button>
<button id="btn4" class="hidden">Son Mesaj ğŸ¤</button>
</div>

<div id="countdown"></div>

<audio id="music" loop preload="auto">
  <source src="./muzik.mp3" type="audio/mpeg">
</audio>

<script>
const music=document.getElementById("music");
const msgBox=document.getElementById("messageBox");
const cd=document.getElementById("countdown");

function typeWriter(text){
  let i=0;
  msgBox.innerText="";
  clearInterval(window.t);
  window.t=setInterval(()=>{
    msgBox.innerText+=text.charAt(i);
    i++;
    if(i>=text.length) clearInterval(window.t);
  },40);
}

document.getElementById("btn1").onclick=function(){

  // iPhone iÃ§in garanti tetikleme
  music.muted=false;
  music.play().then(()=>{}).catch(()=>{});

  this.classList.add("hidden");

  let count=3;
  let timer=setInterval(()=>{
    cd.innerText=count;
    if(count<=0){
      clearInterval(timer);
      cd.innerText="ğŸ‚";
      setTimeout(()=>{
        cd.innerText="";
        emojiRain();
        typeWriter("Ä°yi ki varsÄ±n ablam...\n\nSen benim en bÃ¼yÃ¼k ÅŸansÄ±msÄ±n.\nYanÄ±mda olduÄŸun sÃ¼rece kendimi hep gÃ¼vende hissediyorum.");
        document.getElementById("btn2").classList.remove("hidden");
      },800);
    }
    count--;
  },1000);
};

document.getElementById("btn2").onclick=function(){
  emojiRain();
  typeWriter("Ã‡ocukluÄŸumun en gÃ¼zel anÄ±larÄ±nda hep sen varsÄ±n.\n\nSeninle bÃ¼yÃ¼mek benim iÃ§in bÃ¼yÃ¼k bir mutluluk.");
  this.classList.add("hidden");
  document.getElementById("btn3").classList.remove("hidden");
};

document.getElementById("btn3").onclick=function(){
  emojiRain();
  typeWriter("GÃ¼Ã§lÃ¼ ve merhametli olduÄŸun iÃ§in seninle gurur duyuyorum.\n\nHayat sana hep en gÃ¼zelini getirsin.");
  this.classList.add("hidden");
  document.getElementById("btn4").classList.remove("hidden");
};

document.getElementById("btn4").onclick=function(){
  emojiRain();
  typeWriter("Seni kelimelerle anlatamayacak kadar Ã§ok seviyorum ğŸ¤ğŸ‚âœ¨");
  this.innerText="Seni Ã‡ok Seviyorum ğŸ¤";
  this.disabled=true;
};

function emojiRain(){
  for(let i=0;i<25;i++){
    let e=document.createElement("div");
    e.className="emoji";
    e.innerHTML=["ğŸ’–","ğŸ‚","ğŸ‰","ğŸ¥³","ğŸ‘‘"][Math.floor(Math.random()*5)];
    e.style.left=Math.random()*100+"vw";
    document.body.appendChild(e);
    setTimeout(()=>e.remove(),3000);
  }
}
</script>

</body>
</html>
